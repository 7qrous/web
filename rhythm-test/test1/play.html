<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <style>
        #root {
            width: 300px;
            height: 600px;
            border: 1px solid #ccc;
            display: flex;
            position: relative;
        }

        .line {
            border: 1px solid #eee;
            width: 50px;
            position: relative;
            top: 0;
            left: 0;

        }


        .note {
            animation: down linear 2s none;
            position: absolute;
            top: 0;
            visibility: hidden;
            background-color: black;
            width: 50px;
            height: 20px;
        }

        .down {
            animation: down linear infinite 2s;
        }

        @keyframes down {
            0% {
                top: 0;
                visibility: visible;
            }

            100% {
                top: 600px;
                visibility: hidden;
            }
        }

        #hr {
            position: absolute;
            border: 3px solid #ccc;
            width: 300px;
            box-sizing: border-box;
        }
    </style>
</head>

<body>
    <div id="root">
        <div id="hr"></div>
        <div class="line" id="line-a"></div>
        <div class="line" id="line-s"></div>
        <div class="line" id="line-d"></div>
        <div class="line" id="line-l"></div>
        <div class="line" id="line-;"></div>
        <div class="line" id="line-'"></div>

    </div>
    <div>
        <audio id="music" controls src="BrainFlow.mp3">

        </audio>
    </div>
    <script>
        let track = [
            { "timeStamp": 0, "key": "l" },
            { "timeStamp": 398.29999999701977, "key": "a" },
            { "timeStamp": 606.1000000089407, "key": "s" },
            { "timeStamp": 844.2999999970198, "key": "d" },
            { "timeStamp": 1077.7999999970198, "key": "l" },
            { "timeStamp": 1317.5, "key": ";" },
            { "timeStamp": 1525.7000000029802, "key": "l" },
            { "timeStamp": 1760.6000000089407, "key": "s" },
            { "timeStamp": 1979.5, "key": "d" },
            { "timeStamp": 2186, "key": "l" },
            { "timeStamp": 2399.1000000089407, "key": "s" },
            { "timeStamp": 2641.2999999970198, "key": "d" },
            { "timeStamp": 3061.1000000089407, "key": "l" },
            { "timeStamp": 3487.1000000089407, "key": "a" },
            { "timeStamp": 3678, "key": "d" },
            { "timeStamp": 3911.4000000059605, "key": "l" },
            { "timeStamp": 4111.20000000298, "key": "s" },
            { "timeStamp": 4353.20000000298, "key": "d" },
            { "timeStamp": 4561.9000000059605, "key": "l" },
            { "timeStamp": 4782.70000000298, "key": ";" },
            { "timeStamp": 4987.600000008941, "key": "l" },
            { "timeStamp": 5216, "key": "a" },
            { "timeStamp": 5402.9000000059605, "key": "d" },
            { "timeStamp": 5610.70000000298, "key": "l" },
            { "timeStamp": 5809.29999999702, "key": "s" },
            { "timeStamp": 6078.5, "key": "l" },
            { "timeStamp": 6510.9000000059605, "key": "d" },
            { "timeStamp": 6922.100000008941, "key": "l" },
            { "timeStamp": 7328.5, "key": "a" },
            { "timeStamp": 7541, "key": "s" },
            { "timeStamp": 7768, "key": "d" },
            { "timeStamp": 7969.29999999702, "key": "l" },
            { "timeStamp": 8190.29999999702, "key": ";" },
            { "timeStamp": 8418.29999999702, "key": "l" },
            { "timeStamp": 8633.20000000298, "key": "a" },
            { "timeStamp": 9067.20000000298, "key": "l" },
            { "timeStamp": 9479.20000000298, "key": "s" },
            { "timeStamp": 9939, "key": "d" },
            { "timeStamp": 10365.20000000298, "key": "'" },
            { "timeStamp": 10377.90000000596, "key": ";" },
            { "timeStamp": 10589.79999999702, "key": "l" },
            { "timeStamp": 10796.29999999702, "key": ";" },
            { "timeStamp": 10979, "key": "l" },
            { "timeStamp": 11432, "key": "a" },
            { "timeStamp": 11632.5, "key": "d" },
            { "timeStamp": 11884.29999999702, "key": "s" },
            { "timeStamp": 12105.5, "key": "d" },
            { "timeStamp": 12505.10000000894, "key": "l" },
            { "timeStamp": 12893.5, "key": "a" },
            { "timeStamp": 13286.79999999702, "key": "s" },
            { "timeStamp": 13502.10000000894, "key": "d" },
            { "timeStamp": 13714.10000000894, "key": "l" },
            { "timeStamp": 13923.70000000298, "key": "a" },
            { "timeStamp": 14171.10000000894, "key": "d" },
            { "timeStamp": 14376.20000000298, "key": "l" },
            { "timeStamp": 14626.5, "key": "s" },
            { "timeStamp": 14854.20000000298, "key": "d" },
            { "timeStamp": 15047.20000000298, "key": ";" },
            { "timeStamp": 15273.5, "key": "'" },
            { "timeStamp": 15494, "key": "a" },
            { "timeStamp": 15691.10000000894, "key": ";" },
            { "timeStamp": 15917.20000000298, "key": "d" },
            { "timeStamp": 16119.20000000298, "key": "l" },
            { "timeStamp": 16337.70000000298, "key": "s" },
            { "timeStamp": 16578, "key": "d" },
            { "timeStamp": 16764.5, "key": "l" },
            { "timeStamp": 16984.5, "key": ";" },
            { "timeStamp": 17207.20000000298, "key": "a" },
            { "timeStamp": 17210.29999999702, "key": "l" },
            { "timeStamp": 17426.5, "key": "'" },
            { "timeStamp": 17635.20000000298, "key": ";" },
            { "timeStamp": 17853.29999999702, "key": "l" },
            { "timeStamp": 18047.29999999702, "key": "s" },
            { "timeStamp": 18048.40000000596, "key": ";" },
            { "timeStamp": 18268.29999999702, "key": "l" },
            { "timeStamp": 18481.20000000298, "key": "'" },
            { "timeStamp": 18688.70000000298, "key": ";" },
            { "timeStamp": 18905.29999999702, "key": "l" },
            { "timeStamp": 18917, "key": "d" },
            { "timeStamp": 19113.20000000298, "key": ";" },
            { "timeStamp": 19317.5, "key": "'" },
            { "timeStamp": 19529.40000000596, "key": ";" },
            { "timeStamp": 19757.20000000298, "key": "l" },
            { "timeStamp": 19975.20000000298, "key": ";" },
            { "timeStamp": 20181.40000000596, "key": "'" },
            { "timeStamp": 20405.20000000298, "key": "l" },
            { "timeStamp": 20643.29999999702, "key": "a" },
            { "timeStamp": 20648.90000000596, "key": ";" },
            { "timeStamp": 20867.5, "key": "l" },
            { "timeStamp": 21082.60000000894, "key": ";" },
            { "timeStamp": 23132.29999999702, "key": "Control" },
            { "timeStamp": 23313.60000000894, "key": "a" },
            { "timeStamp": 23638.40000000596, "key": "c" },
        ]
        let startTime = 0;
        let trackPlay = false;
        document.body.addEventListener('keydown', function (e) {

            console.log(startTime);
            if (!trackPlay) {
                trackPlay = true;

                const hr = document.getElementById("hr");
                hr.className = 'down';
                for (let i = 0; i < track.length; i++) {
                    createNote(track[i].key, Math.floor(track[i].timeStamp / 100) * 100);
                }
            }

            setTimeout(function () {
                let music = document.getElementById('music');
                if (music.paused) {
                    music.play();
                }
                console.log(e.key);
            }, 2000);
        });
        function createNote(key, timeStamp) {
            setTimeout(function () {
                let note = document.createElement('div');
                note.className = 'note';
                let line = document.getElementById(`line-${key}`);
                line.appendChild(note);
            }, timeStamp);
        }
    </script>
</body>

</html>